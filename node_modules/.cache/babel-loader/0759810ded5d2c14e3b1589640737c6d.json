{"ast":null,"code":"import _defineProperty from\"/Users/viviana/Desktop/ejercicios/luis-cabrera/todo-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/viviana/Desktop/ejercicios/luis-cabrera/todo-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/viviana/Desktop/ejercicios/luis-cabrera/todo-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialFormValues={title:'',description:''};function TodoForm(_ref){var todoAdd=_ref.todoAdd,todoEdit=_ref.todoEdit,todoUpdate=_ref.todoUpdate,setTodoEdit=_ref.setTodoEdit;var _useState=useState(initialFormValues),_useState2=_slicedToArray(_useState,2),formValues=_useState2[0],setFormValues=_useState2[1];var title=formValues.title,description=formValues.description;var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),successMessage=_useState6[0],setSuccessMessage=_useState6[1];useEffect(function(){if(todoEdit){setFormValues(todoEdit);}else{setFormValues(initialFormValues);}},[todoEdit]);var handleInputChange=function handleInputChange(e){var changedFormValues=_objectSpread(_objectSpread({},formValues),{},_defineProperty({},e.target.name,e.target.value));setFormValues(changedFormValues);};var handleSubmit=function handleSubmit(e){e.preventDefault();if(title.trim()===''){setError('Debes Indicar un Titulo');return;}if(description.trim()===''){setError('Debes Indicar una Descripcion');return;}if(todoEdit){// actualizando\ntodoUpdate(formValues);setSuccessMessage('Actualizado con exito');}else{todoAdd(formValues);setSuccessMessage('Agregado con exito');setFormValues(initialFormValues);}setTimeout(function(){setSuccessMessage(null);},2000);setError(null);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:todoEdit?'Editar Tarea':'Nueva Tarea'}),todoEdit&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setTodoEdit(null);},className:\"btn btn-sm btn-warning mb-2\",children:\"Cancelar Edicion\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Titulo\",className:\"form-control\",value:title,name:\"title\",onChange:handleInputChange}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Descripcion\",className:\"form-control mt-2\",value:description,name:\"description\"//conozcamos la utilidad de colocar este atributo (name) a cada input crearemos una funcion handleInputChange\n,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary btn-block mt-2\",children:todoEdit?'Actulizar Tarea':' Agregar Tarea'})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger mt-2\",children:error}),successMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-success mt-2\",children:successMessage})]});}export default TodoForm;","map":{"version":3,"names":["React","useState","useEffect","initialFormValues","title","description","TodoForm","todoAdd","todoEdit","todoUpdate","setTodoEdit","formValues","setFormValues","error","setError","successMessage","setSuccessMessage","handleInputChange","e","changedFormValues","target","name","value","handleSubmit","preventDefault","trim","setTimeout"],"sources":["/Users/viviana/Desktop/ejercicios/luis-cabrera/todo-app/src/components/TodoForm.js"],"sourcesContent":["\nimport React, { useState, useEffect } from 'react'\nconst initialFormValues = {\n    title: '',\n    description: '',\n\n}\n\nfunction TodoForm({ todoAdd, todoEdit, todoUpdate, setTodoEdit }) {\n    const [formValues, setFormValues] = useState(initialFormValues)\n    const { title, description } = formValues;\n    const [error, setError] = useState(null)\n    const [successMessage, setSuccessMessage] = useState(null)\n\n    useEffect(() => {\n        if (todoEdit) {\n            setFormValues(todoEdit)\n        }\n        else {\n            setFormValues(initialFormValues)\n        }\n\n\n    }, [todoEdit])\n    const handleInputChange = (e) => {\n        const changedFormValues = {\n            ...formValues,\n            [e.target.name]: e.target.value\n        }\n        setFormValues(changedFormValues)\n\n    }\n    const handleSubmit = (e) => {\n        e.preventDefault()\n\n        if (title.trim() === '') {\n            setError('Debes Indicar un Titulo')\n            return;\n\n        }\n\n        if (description.trim() === '') {\n            setError('Debes Indicar una Descripcion')\n            return;\n        }\n\n\n\n        if (todoEdit) {\n            // actualizando\n            todoUpdate(formValues)\n            setSuccessMessage('Actualizado con exito')\n\n        } else {\n            todoAdd(formValues)\n            setSuccessMessage('Agregado con exito')\n            setFormValues(initialFormValues)\n        }\n\n        setTimeout(() => {\n            setSuccessMessage(null)\n        }, 2000)\n\n        setError(null)\n    }\n    return (\n        <div>\n            <h1>{todoEdit ? 'Editar Tarea' : 'Nueva Tarea'}</h1>\n\n            {\n                todoEdit &&\n                <button\n                    onClick={() => setTodoEdit(null)}\n                    className='btn btn-sm btn-warning mb-2'\n                >Cancelar Edicion\n                </button>\n            }\n\n            <form onSubmit={handleSubmit}>\n                <input\n                    type='text'\n                    placeholder='Titulo'\n                    className='form-control'\n                    value={title}\n                    name='title'\n                    onChange={handleInputChange}\n                />\n                <textarea\n                    placeholder='Descripcion'\n                    className='form-control mt-2'\n                    value={description}\n                    name='description' //conozcamos la utilidad de colocar este atributo (name) a cada input crearemos una funcion handleInputChange\n                    onChange={handleInputChange}\n                >\n                </textarea>\n                <button\n                    className='btn btn-primary btn-block mt-2'>\n                    {todoEdit ? 'Actulizar Tarea' : ' Agregar Tarea'}\n                </button>\n            </form>\n            {\n                error &&\n                (\n                    <div className='alert alert-danger mt-2'>{error}</div>\n                )\n            }\n            {\n                successMessage &&\n                (\n                    <div className='alert alert-success mt-2'>{successMessage}</div>\n                )\n            }\n        </div>\n    )\n}\nexport default TodoForm"],"mappings":"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"},"metadata":{},"sourceType":"module"}