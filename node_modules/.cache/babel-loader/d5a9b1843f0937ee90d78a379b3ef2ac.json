{"ast":null,"code":"import _toConsumableArray from\"/Users/viviana/Desktop/ejercicios/luis-cabrera/todo-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/viviana/Desktop/ejercicios/luis-cabrera/todo-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/viviana/Desktop/ejercicios/luis-cabrera/todo-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// haciendo nuestra aplicacion persistente esto se refiere a que cuando se recargue la pagina el estado anterior se siga manteniendo por lo menos con llos todos\n// asi haremos persistentes el estado de los todos , para ello usaremos el localstorage y lo hacemos aca en el app.js\nimport React,{useEffect,useState}from'react';import TodoForm from'./components/TodoForm';import TodoList from'./components/TodoList';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialTodos=[{id:1,title:'todo #1',description:'Descripcion Todo #1',completed:false},{id:2,title:'todo #2',description:'Descripcion Todo #2',completed:true}];// aca creamos localTodos , pero por que afuera del componente?\n// es por que no tiene que ver con logica de estado , es para que no nos confunda al leer el codigo\n// esto es un strin y necesitamos convertirlo de nuevo a un array de objetos usando JSON.parse\nvar localTodos=JSON.parse(localStorage.getItem('todos'));// y como usaremos esto veamos el estado de initialTodos  donde le decimos que si localtodos existe ...cargame los localtodos\n// o si este valor es nulo cargame los inicialtodos\nfunction App(){var _useState=useState(localTodos||initialTodos),_useState2=_slicedToArray(_useState,2),todos=_useState2[0],setTodos=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),todoEdit=_useState4[0],setTodoEdit=_useState4[1];// crearemos un nuevo effect que debemos importarlo antes\n// esto recibe el arreglo de dependencias y la funcion que se va a ejecutar cuando una de esas dependencias cambie\n// pero que dependencias va a escuchar este efecto, que es lo que queremos hacer , que cada vez que los todos sean diferentes se grabe en localstorage un valor actualizado\n// de los todos, por lo tanto nuestras dependencias deben ser los todos\n// revisemos la seccion de aplicacion en las herramientas del desarrollador donde hay una seccion aplicacion donde que dice almacenamiento ahi vamos al localhost3000 que es en la direccion que estamos trabajando en este momento\n// aca comenzaremos grabando los todos cada vez que se actualice el estado de los todos\nuseEffect(function(){// esta funcion va a recibir como primer parametro el nombre de la clave que queremos asignar en el localstorage y como \n//  segundo parametro el nombre de lo que queremos almacenar es decir la variable todo que en este momento contiene un estado\n// automaticamnete nos guardo un valos debido a que el useefectt se ejecuta una vez minimo siempre y tambien cuando se camboa alguna de las dependencias\n// por ahora vemos que el valor es object object y se debe que localsotorage almacena solo string\n// pero hay una forma de convertir este objeto (todos,el parametro 2) a string (usando JSON.stringify) y luego hacer el proceso contrario para volver a utilizarlo\n// este metodo JSON.stringify convertiria cualquier objeto a string\nlocalStorage.setItem('todos',JSON.stringify(todos));// pero  al recargar no se guardaron nuestros cambio debido a que no los estamos cargando al iniciar nuestra aplicacion\n// esto lo haremos fuera del componente creando una variable\n},[todos]);var todoDelete=function todoDelete(todoId){if(todoEdit&&todoId===todoEdit.id){setTodoEdit(null);}var changedTodos=todos.filter(function(todo){return todo.id!==todoId;});setTodos(changedTodos);};var todoToogleCompleted=function todoToogleCompleted(todoId){var changedTodos=todos.map(function(todo){return todo.id===todoId?_objectSpread(_objectSpread({},todo),{},{completed:!todo.completed}):todo;});setTodos(changedTodos);};var todoAdd=function todoAdd(todo){var newTodo=_objectSpread(_objectSpread({id:Date.now()},todo),{},{completed:false});var changedTodos=[newTodo].concat(_toConsumableArray(todos));setTodos(changedTodos);};// creando nuestra funcion para actualizar\nvar todoUpdate=function todoUpdate(todoEdit){var changedTodos=todos.map(function(todo){return todo.id===todoEdit.id?todoEdit:todo;});setTodos(changedTodos);};return/*#__PURE__*/_jsx(\"div\",{className:\"container mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-8\",children:/*#__PURE__*/_jsx(TodoList,{todos:todos,todoDelete:todoDelete,todoToogleCompleted:todoToogleCompleted,setTodoEdit:setTodoEdit})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4\",children:/*#__PURE__*/_jsx(TodoForm// estados\n,{todoEdit:todoEdit// funciones\n,todoAdd:todoAdd,todoUpdate:todoUpdate,setTodoEdit:setTodoEdit})})]})});}export default App;","map":{"version":3,"names":["React","useEffect","useState","TodoForm","TodoList","initialTodos","id","title","description","completed","localTodos","JSON","parse","localStorage","getItem","App","todos","setTodos","todoEdit","setTodoEdit","setItem","stringify","todoDelete","todoId","changedTodos","filter","todo","todoToogleCompleted","map","todoAdd","newTodo","Date","now","todoUpdate"],"sources":["/Users/viviana/Desktop/ejercicios/luis-cabrera/todo-app/src/App.js"],"sourcesContent":["// haciendo nuestra aplicacion persistente esto se refiere a que cuando se recargue la pagina el estado anterior se siga manteniendo por lo menos con llos todos\n// asi haremos persistentes el estado de los todos , para ello usaremos el localstorage y lo hacemos aca en el app.js\n\nimport React, { useEffect, useState } from 'react'\nimport TodoForm from './components/TodoForm'\nimport TodoList from './components/TodoList'\n\n\nconst initialTodos = [\n    {\n        id: 1,\n        title: 'todo #1',\n        description: 'Descripcion Todo #1',\n        completed: false,\n    },\n    {\n        id: 2,\n        title: 'todo #2',\n        description: 'Descripcion Todo #2',\n        completed: true,\n    }\n]\n\n// aca creamos localTodos , pero por que afuera del componente?\n// es por que no tiene que ver con logica de estado , es para que no nos confunda al leer el codigo\n\n// esto es un strin y necesitamos convertirlo de nuevo a un array de objetos usando JSON.parse\nconst localTodos = JSON.parse(localStorage.getItem('todos'))\n// y como usaremos esto veamos el estado de initialTodos  donde le decimos que si localtodos existe ...cargame los localtodos\n// o si este valor es nulo cargame los inicialtodos\n\nfunction App() {\n    const [todos, setTodos] = useState(localTodos || initialTodos)\n    const [todoEdit, setTodoEdit] = useState(null)\n\n    // crearemos un nuevo effect que debemos importarlo antes\n    // esto recibe el arreglo de dependencias y la funcion que se va a ejecutar cuando una de esas dependencias cambie\n    // pero que dependencias va a escuchar este efecto, que es lo que queremos hacer , que cada vez que los todos sean diferentes se grabe en localstorage un valor actualizado\n    // de los todos, por lo tanto nuestras dependencias deben ser los todos\n    // revisemos la seccion de aplicacion en las herramientas del desarrollador donde hay una seccion aplicacion donde que dice almacenamiento ahi vamos al localhost3000 que es en la direccion que estamos trabajando en este momento\n    // aca comenzaremos grabando los todos cada vez que se actualice el estado de los todos\n    useEffect(() => {\n\n\n        // esta funcion va a recibir como primer parametro el nombre de la clave que queremos asignar en el localstorage y como \n        //  segundo parametro el nombre de lo que queremos almacenar es decir la variable todo que en este momento contiene un estado\n        // automaticamnete nos guardo un valos debido a que el useefectt se ejecuta una vez minimo siempre y tambien cuando se camboa alguna de las dependencias\n        // por ahora vemos que el valor es object object y se debe que localsotorage almacena solo string\n        // pero hay una forma de convertir este objeto (todos,el parametro 2) a string (usando JSON.stringify) y luego hacer el proceso contrario para volver a utilizarlo\n        // este metodo JSON.stringify convertiria cualquier objeto a string\n        localStorage.setItem('todos', JSON.stringify(todos))\n        // pero  al recargar no se guardaron nuestros cambio debido a que no los estamos cargando al iniciar nuestra aplicacion\n        // esto lo haremos fuera del componente creando una variable\n\n    }, [todos])\n\n\n\n    const todoDelete = (todoId) => {\n\n        if (todoEdit && todoId === todoEdit.id) {\n            setTodoEdit(null)\n        }\n        const changedTodos = todos.filter(todo => todo.id !== todoId)\n        setTodos(changedTodos);\n    }\n\n    const todoToogleCompleted = (todoId) => {\n        const changedTodos = todos.map(todo => todo.id === todoId ? { ...todo, completed: !todo.completed } : todo)\n\n        setTodos(changedTodos)\n    }\n\n    const todoAdd = (todo) => {\n\n        const newTodo = {\n            id: Date.now(),\n            ...todo,\n            completed: false\n        }\n        const changedTodos = [\n            newTodo,\n            ...todos,\n\n        ]\n\n        setTodos(changedTodos)\n    }\n\n\n\n    // creando nuestra funcion para actualizar\n    const todoUpdate = (todoEdit) => {\n        const changedTodos = todos.map(todo => (\n            todo.id === todoEdit.id\n                ? todoEdit\n                : todo\n        ))\n\n        setTodos(changedTodos)\n    }\n\n    return (\n        <div className='container mt-4'>\n            <div className='row'>\n                <div className='col-8'>\n                    <TodoList\n                        todos={todos}\n                        todoDelete={todoDelete}\n                        todoToogleCompleted={todoToogleCompleted}\n                        setTodoEdit={setTodoEdit}\n                    />\n                </div>\n                <div className='col-4'>\n                    <TodoForm\n                        // estados\n                        todoEdit={todoEdit}\n                        // funciones\n                        todoAdd={todoAdd}\n                        todoUpdate={todoUpdate}\n                        setTodoEdit={setTodoEdit}\n                    />\n\n\n                </div>\n\n            </div>\n        </div>\n\n    )\n}\n\nexport default App"],"mappings":"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"},"metadata":{},"sourceType":"module"}